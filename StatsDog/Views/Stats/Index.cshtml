@model IEnumerable<StatsDog.Models.Stats>

@{
  ViewBag.Title = "Index";
}

<br/>
<p>@Html.ActionLink("Summary", "Summary")</p>

<table id="summary-table" class="table">
  <thead>
  <tr>
    <th>@Html.DisplayNameFor(model => model.ApplicationName)</th>
    <th>@Html.DisplayNameFor(model => model.ApplicationVersion)</th>
    <th>@Html.DisplayNameFor(model => model.SourceName)</th>
    <th>@Html.DisplayNameFor(model => model.EventName)</th>
    <th>@Html.DisplayNameFor(model => model.Timestamp)</th>
  </tr>
  </thead>
  
  <tbody>
  @foreach (var item in Model.OrderByDescending(x => x.Timestamp))
  {
    <tr>
      <td>@Html.DisplayFor(modelItem => item.ApplicationName)</td>
      <td>@Html.DisplayFor(modelItem => item.ApplicationVersion)</td>
      <td>@Html.DisplayFor(modelItem => item.SourceName)</td>
      <td>@Html.DisplayFor(modelItem => item.EventName)</td>
      <td>@item.Timestamp.ToString("yyyy-MM-dd HH:mm (ddd)")</td>
    </tr>
  }
  </tbody>

</table>

@section Scripts
{
  <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.15/css/jquery.dataTables.css">
  <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.15/js/jquery.dataTables.js"></script>
  
  <script>
    $(document).ready(function() {
      $('#summary-table').DataTable();
    });
  </script>
}
